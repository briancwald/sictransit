***************
*** 70,75 ****
      $path = file_create_url($image['path']);
    }
  
    return theme('colorbox_imagefield', array('image' => $image, 'path' => $path, 'title' => $image['title'], 'gid' => $gallery_id));
  }
  
--- 70,77 ----
      $path = file_create_url($image['path']);
    }
  
+   $path = preg_replace('`^' . $GLOBALS['base_url'] . '`i', '', $path);
+ 
    return theme('colorbox_imagefield', array('image' => $image, 'path' => $path, 'title' => $image['title'], 'gid' => $gallery_id));
  }
  
***************
*** 166,171 ****
      $variables['link_path'] = file_create_url($file->uri);
    }
  
    $variables['class'] = $variables['widget']['settings']['insert_class'];
  
    $variables['gallery_id'] = '';
--- 169,176 ----
      $variables['link_path'] = file_create_url($file->uri);
    }
  
+   $variables['link_path'] = preg_replace('`^' . $GLOBALS['base_url'] . '`i', '', $variables['link_path']);
+ 
    $variables['class'] = $variables['widget']['settings']['insert_class'];
  
    $variables['gallery_id'] = '';
